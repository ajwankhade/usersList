(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{25:function(e,t,r){},26:function(e,t,r){},29:function(e,t,r){e.exports=r(60)},34:function(e,t,r){},35:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(8),c=r.n(s),o=(r(34),r(15)),u=(r(35),r(1)),d=r(2),i=r(4),l=r(3),m=r(7),h=r(9),v=r.n(h),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USERS_DATA_LOADING",flag:e})}},p=(r(25),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){var e=this,t=this.props.user;return a.a.createElement("div",{className:"user-row".concat(this.props.isSelected?" selected":""),key:"user_".concat(t.id),onClick:function(){return e.props.setSelectedUser(t.id,t)}},a.a.createElement("div",null,t.id),a.a.createElement("div",null,t.name),a.a.createElement("div",null,t.age),a.a.createElement("div",null,t.gender))}}]),r}(a.a.Component)),E=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getUsersContent=function(){var t=e.props,r=t.users,n=t.selectedUserId;return t.userDataLoading?a.a.createElement("div",{className:"users-list-container"},"Loading users..."):0===r.length?a.a.createElement("div",{className:"users-list-container"},"There are no users available"):r.map((function(t){return a.a.createElement(p,{key:"user_".concat(t.id),user:t,setSelectedUser:e.props.setSelectedUser,isSelected:n===t.id})}))},e}return Object(d.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"users-list-container"},a.a.createElement("h2",{className:"container-header"},"Users"),a.a.createElement("div",{className:"users"},a.a.createElement("div",{className:"user-row-header"},a.a.createElement("div",null,"User ID"),a.a.createElement("div",null,"User Name"),a.a.createElement("div",null,"User Age"),a.a.createElement("div",null,"Gender")),this.getUsersContent()))}}]),r}(a.a.Component),g=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return a.a.createElement(E,this.props)}}]),r}(a.a.Component),b=Object(m.b)((function(e){return{users:e.usersData.users,userDataLoading:e.usersData.usersDataLoading}}),(function(e){return{fetchUsers:function(){return e((function(e){return e(f(!0)),v.a.get("http://demo5472662.mockable.io/users").then((function(t){var r=t.data;e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){t({type:"SET_USERS",userData:e})}}(r)),e(f(!1))})).catch((function(){console.log("error while fetching users")}))}))}}}))(g),O=(r(26),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).getAddressFormatted=function(){var t=e.props.address;return"".concat(t.house_no,",\n").concat(t.street_name,",\n").concat(t.city_name,",\n").concat(t.country)},e}return Object(d.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"address-card",dangerouslySetInnerHTML:{__html:this.getAddressFormatted()}})}}]),r}(a.a.Component)),A=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getAddressCards=function(){var t=e.props,r=t.selectedUser,n=t.userAddress;return t.userAddressesLoading?a.a.createElement("div",{className:"address-container"},"Loading address..."):0===n.length?a.a.createElement("div",{className:"address-container"},"No addresses for this user!"):n.map((function(e){return a.a.createElement(O,{key:"address_".concat(e.address_id,"_user_").concat(r.id),address:e})}))},e}return Object(d.a)(r,[{key:"render",value:function(){var e=this.props.selectedUser;return a.a.createElement("div",{className:"address-container"},a.a.createElement("h2",{className:"header-text"},e.name,"'s Addresses"),a.a.createElement("div",{className:"address-cards-container"},this.getAddressCards()))}}]),r}(a.a.Component),j=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidMount",value:function(){0===this.props.userAddress.length&&this.props.fetchUserAddresses(this.props.selectedUserId)}},{key:"render",value:function(){return a.a.createElement(A,this.props)}}]),r}(a.a.Component),S=Object(m.b)((function(e,t){return{userAddress:(r=e.userAddressesData.userAddresses,n=t.selectedUserId,r&&r[n]||[]),userAddressesLoading:e.userAddressesData.userAddressesLoading};var r,n}),(function(e){return{fetchUserAddresses:function(t){return e(function(e){return function(t){t(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USER_ADDRESSES_LOADING",flag:e})}}(!0)),v.a.get("http://demo5472662.mockable.io/user".concat(e,"_addresses")).then((function(r){var n=r.data;t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r){r({type:"SET_USER_ADDRESSES",userAddresses:t,userId:e})}}(e,n))}))}}(t))}}}))(j),y=(r(59),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"app-header-container"},a.a.createElement("h1",{className:"header-text"},"User Details Portal"))}}]),r}(a.a.Component)),U=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(null),u=Object(o.a)(c,2),d=u[0],i=u[1];return a.a.createElement("div",{className:"App"},a.a.createElement(y,null),a.a.createElement("div",{className:"content"},a.a.createElement(b,{selectedUserId:r,setSelectedUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(e),i(t)}}),r?a.a.createElement(S,{key:"user_".concat(r),selectedUser:d,selectedUserId:r}):a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("h2",{style:{color:"#666",textAlign:"center"}},"No user selected"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=r(6),D=r(28),N=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS":return t.userData;default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS_DATA_LOADING":return t.flag;default:return e}},L=Object(_.c)({users:k,usersDataLoading:w}),I=r(10),C=r(11),R={userAddresses:{},userAddressesLoading:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER_ADDRESSES":return Object(C.a)({},e,{userAddresses:Object(C.a)({},e.userAddresses,Object(I.a)({},t.userId,t.userAddresses)),userAddressesLoading:!1});case"SET_USER_ADDRESSES_LOADING":return Object(C.a)({},e,{userAddressesLoading:t.flag});default:return e}},G=Object(_.c)({usersData:L,userAddressesData:T}),x=Object(_.d)(G,Object(_.a)(D.a));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m.a,{store:x},a.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.970bd200.chunk.js.map