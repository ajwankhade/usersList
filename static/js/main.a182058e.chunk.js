(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{27:function(e,t,n){e.exports=n(58)},32:function(e,t,n){},33:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(8),c=n.n(s),u=(n(32),n(26)),o=(n(33),n(2)),i=n(3),d=n(5),l=n(4),p=n(7),h=n(9),f=n.n(h),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USERS_DATA_LOADING",flag:e})}},E=n(6),m=n(25),b=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS":return t.userData;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS_DATA_LOADING":return t.flag;default:return e}},S=Object(E.c)({users:g,usersDataLoading:O}),j=n(10),A=n(11),D={userAddresses:{},userAddressesLoading:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER_ADDRESSES":return Object(A.a)({},e,{userAddresses:Object(A.a)({},e.userAddresses,Object(j.a)({},t.userId,t.userAddresses)),userAddressesLoading:!1});case"SET_USER_ADDRESSES_LOADING":return Object(A.a)({},e,{userAddressesLoading:t.flag});default:return e}},U=Object(E.c)({usersData:S,userAddressesData:y}),_=Object(E.d)(U,Object(E.a)(m.a)),L=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.users;return t.userDataLoading?a.a.createElement("div",null,"Loading users..."):0===n.length?a.a.createElement("div",null,"There are no users available"):n.map((function(t){return a.a.createElement("div",{key:"user_".concat(t.id),onClick:function(){return e.props.setSelectedUser(t.id)}},a.a.createElement("span",null,t.id),a.a.createElement("span",null,t.name),a.a.createElement("span",null,t.age),a.a.createElement("span",null,t.gender))}))}}]),n}(a.a.Component),k=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){_.dispatch(v(!0)),f.a.get("http://demo5472662.mockable.io/users").then((function(e){var t=e.data;_.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){t({type:"SET_USERS",userData:e})}}(t)),_.dispatch(v(!1))})).catch((function(){console.log("error while fetching users")}))}},{key:"render",value:function(){return a.a.createElement(L,this.props)}}]),n}(a.a.Component),I=Object(p.b)((function(e){return{users:e.usersData.users,userDataLoading:e.usersData.usersDataLoading}}),(function(e){return{}}))(k),w=function(e){_.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USER_ADDRESSES_LOADING",flag:e})}}(!0)),f.a.get("http://demo5472662.mockable.io/user".concat(e,"_addresses")).then((function(t){var n=t.data;_.dispatch(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n({type:"SET_USER_ADDRESSES",userAddresses:t,userId:e})}}(e,n))}))},R=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.selectedUserId?this.props.userAddressesLoading?a.a.createElement("div",null,"Loading address..."):a.a.createElement("div",null,"User Id ",this.props.selectedUserId,"'s Address"):null}}]),n}(a.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).fetchUserData=function(e){w(e)},e}return Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedUserId!==e.selectedUserId&&void 0===this.props.userAddresses[e.selectedUserId]&&this.fetchUserData(e.selectedUserId)}},{key:"render",value:function(){return a.a.createElement(R,this.props)}}]),n}(a.a.Component),N=Object(p.b)((function(e){return{userAddresses:e.userAddressesData.userAddresses,userAddressesLoading:e.userAddressesData.userAddressesLoading}}),(function(e){return{}}))(T),C=(n(57),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"app-header-container"},a.a.createElement("h1",{className:"header-text"},"User Details Portal"))}}]),n}(a.a.Component)),G=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement(C,null),a.a.createElement(I,{setSelectedUser:function(e){s(e)}}),a.a.createElement(N,{selectedUserId:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p.a,{store:_},a.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.a182058e.chunk.js.map