(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){},29:function(e,t,r){e.exports=r(60)},34:function(e,t,r){},35:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(8),c=r.n(s),o=(r(34),r(28)),u=(r(35),r(1)),i=r(2),d=r(4),l=r(3),h=r(7),m=r(9),f=r.n(m),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USERS_DATA_LOADING",flag:e})}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!==typeof window.Storage){var r=(new Date).getTime()+"_".concat(e);window.localStorage.setItem(r,JSON.stringify(t))}},E=(r(24),function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props.user;return a.a.createElement("div",{className:"user-row".concat(this.props.isSelected?" selected":""),key:"user_".concat(t.id),onClick:function(){return e.props.setSelectedUser(t.id,t)}},a.a.createElement("div",null,t.id),a.a.createElement("div",null,t.name),a.a.createElement("div",null,t.age),a.a.createElement("div",null,t.gender))}}]),r}(a.a.Component)),g=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getUsersContent=function(){var t=e.props,r=t.users,n=t.selectedUser;return t.userDataLoading?a.a.createElement("div",{className:"users-list-container",name:"loading"},"Loading users..."):0===r.length?a.a.createElement("div",{className:"users-list-container",name:"noUsers"},"There are no users available"):r.map((function(t){return a.a.createElement(E,{key:"user_".concat(t.id),user:t,setSelectedUser:e.props.setSelectedUser,isSelected:n&&n.id===t.id})}))},e}return Object(i.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"users-list-container"},a.a.createElement("h2",{className:"container-header"},"Users"),a.a.createElement("div",{className:"users"},a.a.createElement("div",{className:"user-row-header"},a.a.createElement("div",null,"User ID"),a.a.createElement("div",null,"User Name"),a.a.createElement("div",null,"User Age"),a.a.createElement("div",null,"Gender")),this.getUsersContent()))}}]),r}(a.a.Component),b=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return a.a.createElement(g,this.props)}}]),r}(a.a.Component),O=Object(h.b)((function(e){return{users:e.usersData.users,userDataLoading:e.usersData.usersDataLoading}}),(function(e){return{fetchUsers:function(){return e((function(e){return e(v(!0)),p("Calling fetch users"),f.a.get("https://demo5472662.mockable.io/users").then((function(t){var r=t.data;e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){t({type:"SET_USERS",userData:e})}}(r)),e(v(!1)),p("Fetched users successfully")})).catch((function(){p("Error fetching users"),console.log("error while fetching users")}))}))}}}))(b),S=(r(25),function(e){var t=e.address;return a.a.createElement("div",{className:"address-card"},a.a.createElement("p",null,t.house_no),a.a.createElement("p",null,t.street_name),a.a.createElement("p",null,t.city_name),a.a.createElement("p",null,t.country))}),j=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getAddressCards=function(){var t=e.props,r=t.selectedUser,n=t.userAddress;return t.userAddressesLoading?a.a.createElement("div",{className:"address-container",name:"loading"},"Loading address..."):0===n.length?a.a.createElement("div",{className:"address-container",name:"noContent"},"No addresses for this user!"):n.map((function(e,t){return a.a.createElement(S,{key:"address_".concat(e.address_id,"_user_").concat(r.id),address:e})}))},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props.selectedUser;return a.a.createElement("div",{className:"address-container"},a.a.createElement("h2",{className:"header-text"},e.name,"'s Addresses"),a.a.createElement("div",{className:"address-cards-container"},this.getAddressCards()))}}]),r}(a.a.Component),y=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){0===this.props.userAddress.length&&this.props.fetchUserAddresses(this.props.selectedUser.id)}},{key:"render",value:function(){return a.a.createElement(j,this.props)}}]),r}(a.a.Component),A=Object(h.b)((function(e,t){return{userAddress:(r=e.userAddressesData.userAddresses,n=t.selectedUser.id,r&&r[n]||[]),userAddressesLoading:e.userAddressesData.userAddressesLoading};var r,n}),(function(e){return{fetchUserAddresses:function(t){return e(function(e){return function(t){t(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:"SET_USER_ADDRESSES_LOADING",flag:e})}}(!0)),p("Calling fetch addresses for a user"),f.a.get("https://demo5472662.mockable.io/user".concat(e,"_addresses")).then((function(r){var n=r.data;t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r){r({type:"SET_USER_ADDRESSES",userAddresses:t,userId:e})}}(e,n)),p("User addresses fetched successfully",n)})).catch((function(){p("Error fetching user addresses")}))}}(t))}}}))(y),D=(r(59),function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"app-header-container"},a.a.createElement("h1",{className:"header-text"},"User Details Portal"))}}]),r}(a.a.Component)),U=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(i.a)(r,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?a.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.a.Component),_=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),r=t[0],s=t[1];return a.a.createElement(U,null,a.a.createElement("div",{className:"App"},a.a.createElement(D,null),a.a.createElement("div",{className:"content"},a.a.createElement(O,{selectedUser:r,setSelectedUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(t)}}),r?a.a.createElement(A,{key:"user_".concat(r.id),selectedUser:r}):a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("h2",{style:{color:"#666",textAlign:"center"}},"No user selected")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=r(6),w=r(27),k=[],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS":return t.userData;default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS_DATA_LOADING":return t.flag;default:return e}},R=Object(N.c)({users:C,usersDataLoading:L}),T=r(10),I=r(11),G={userAddresses:{},userAddressesLoading:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER_ADDRESSES":return Object(I.a)({},e,{userAddresses:Object(I.a)({},e.userAddresses,Object(T.a)({},t.userId,t.userAddresses)),userAddressesLoading:!1});case"SET_USER_ADDRESSES_LOADING":return Object(I.a)({},e,{userAddressesLoading:t.flag});default:return e}},J=Object(N.c)({usersData:R,userAddressesData:x}),M=Object(N.d)(J,Object(N.a)(w.a));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h.a,{store:M},a.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.d4e63b4e.chunk.js.map